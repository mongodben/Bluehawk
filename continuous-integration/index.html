<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<title data-react-helmet="true">Continuous Integration | Bluehawk</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://mongodb-university.github.io/Bluehawk/continuous-integration/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Continuous Integration | Bluehawk"><meta data-react-helmet="true" name="description" content="Because the Bluehawk CLI is a package you can"><meta data-react-helmet="true" property="og:description" content="Because the Bluehawk CLI is a package you can"><link data-react-helmet="true" rel="canonical" href="https://mongodb-university.github.io/Bluehawk/continuous-integration/"><link data-react-helmet="true" rel="alternate" href="https://mongodb-university.github.io/Bluehawk/continuous-integration/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://mongodb-university.github.io/Bluehawk/continuous-integration/" hreflang="x-default"><link rel="stylesheet" href="/Bluehawk/assets/css/styles.3b4610ff.css">
<link rel="preload" href="/Bluehawk/assets/js/runtime~main.bb8f3020.js" as="script">
<link rel="preload" href="/Bluehawk/assets/js/main.5abc370d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Bluehawk/"><b class="navbar__title">Bluehawk Docs</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mongodb-university/Bluehawk" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bluehawk/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bluehawk/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bluehawk/install">Install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bluehawk/commands">Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bluehawk/cli">CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bluehawk/use-cases">Use Cases</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Bluehawk/plugins">Plugins</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Bluehawk/code-snippets/">Extract Code Snippets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Bluehawk/tutorials/">Tutorials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Bluehawk/continuous-integration/">Continuous Integration</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Develop</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">API</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Continuous Integration</h1></header><p>Because the Bluehawk CLI is a package you can
<a href="/Bluehawk/install#usage-as-a-module">install with <code>npm</code></a>, you can use it in your
continuous integration workflows. </p><p>In the Realm documentation team, we use it in a couple of different ways:</p><ul><li>Check for Bluehawk errors when we push updates to files that might use Bluehawk</li><li>Use Bluehawk to update tutorial artifact repositories when we push updates to tutorials</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="check-for-bluehawk-errors">Check for Bluehawk Errors<a aria-hidden="true" class="hash-link" href="#check-for-bluehawk-errors" title="Direct link to heading">â€‹</a></h2><p>In the Realm documentatation GitHub repository, we have a
<a href="https://github.com/mongodb/docs-realm/blob/master/.github/workflows/bluehawk.yml" target="_blank" rel="noopener noreferrer">GitHub Workflow</a>
that uses <a href="/Bluehawk/reference/cli#check">bluehawk check</a> to check for errors when
we push to specific directories. The command we execute in the workflow is:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><pre tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">npx bluehawk check -i </span><span class="token string" style="color:#e3116c">&quot;*.md&quot;</span><span class="token plain"> -i </span><span class="token string" style="color:#e3116c">&quot;*.properties&quot;</span><span class="token plain"> -i </span><span class="token string" style="color:#e3116c">&quot;*.lock&quot;</span><span class="token plain"> examples tutorial</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This does a few things:</p><ul><li>Uses <code>bluehawk check</code> to tell us if there are Bluehawk errors in our files</li><li>Ignores files of certain types:<ul><li>Markdown files</li><li>Properties files</li><li>Lock files</li></ul></li><li>Checks for updates in the <code>examples</code> or <code>tutorial</code> directories, which are the
two directories where we use Bluehawk</li></ul><p>This way, if we push a file to GitHub in one of these directories, and the
file has Bluehawk errors, the check will fail and we won&#x27;t merge the PR.
This is similar to checking for build errors when we generate our documentation.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="use-bluehawk-in-github-workflows-and-actions">Use Bluehawk in GitHub Workflows and Actions<a aria-hidden="true" class="hash-link" href="#use-bluehawk-in-github-workflows-and-actions" title="Direct link to heading">â€‹</a></h2><p>We also use Bluehawk in our CI in more complex ways. Our
<a href="/Bluehawk/tutorials">Tutorials guide</a> explains how we use <code>bluehawk state</code> to generate
code examples for our tutorials. </p><p>We also use Bluehawk in GitHub Workflows and Actions that automatically
update artifact repositories when we push changes to our tutorials. We
explain this in more depth in
<a href="/Bluehawk/tutorials#automatically-update-tutorial-code">Tutorials -&gt; Automatically Update Tutorial Code</a>,
but the gist of it is this:</p><ul><li>When we push updates to the <code>tutorial</code> directory, we run <code>bluehawk check</code> to
make sure there are no Bluehawk errors</li><li>Then, we use Bluehawk to copy code examples for each <code>state</code> to git branches
in artifact repositories. The git branch names match the <code>states</code> in our code
examples.</li></ul><p>This lets us update tutorial code in a single place - the <code>tutorial</code> directory
in our documentation repository. Then, using Bluehawk, we generate updated
code examples for our documentation. This CI also copies the updated code to
our tutorial repositories that developers can clone and run on their machines.</p><p>All of this reduces the need to manually update code in multiple places -
which makes maintenance faster, and reduces the need to remember to copy
code to all of the places.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Bluehawk/tutorials/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« <!-- -->Tutorials</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Bluehawk/reference/tags"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Tags<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#check-for-bluehawk-errors" class="table-of-contents__link toc-highlight">Check for Bluehawk Errors</a></li><li><a href="#use-bluehawk-in-github-workflows-and-actions" class="table-of-contents__link toc-highlight">Use Bluehawk in GitHub Workflows and Actions</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Bluehawk/">Intro</a></li><li class="footer__item"><a class="footer__link-item" href="/Bluehawk/commands">Tags</a></li><li class="footer__item"><a class="footer__link-item" href="/Bluehawk/cli">CLI</a></li><li class="footer__item"><a class="footer__link-item" href="/Bluehawk/api">API</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/mongodb-university/Bluehawk" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Github Repo<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/mongodb-university/Bluehawk/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Contributing Guidelines<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/mongodb-university/Bluehawk/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Submit Issue<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/Bluehawk/assets/js/runtime~main.bb8f3020.js"></script>
<script src="/Bluehawk/assets/js/main.5abc370d.js"></script>
</body>
</html>